#!/data/data/com.termux/files/usr/bin/bash
trap '' SIGINT
XARGS="$1"
WIKI="https://wiki.termux.com/wiki/Hacking"
LIB="$PREFIX/lib/libmetasploit.so"

show_welp(){
echo "Error: MsfVenom - a Metasploit standalone payload generator.
Also a replacement for msfpayload and msfencode.
Usage: /usr/bin/msfvenom [options]

Options:
    -p, --payload            Payload to use. Specify a '-' or stdin to use custom payloads
        --payload-options    List the payload's standard options
    -l, --list [type]        List a module type. Options are: payloads, encoders, nops, all
    -n, --nopsled            Prepend a nopsled of [length] size on to the payload
    -f, --format             Output format (use --help-formats for a list)
        --help-formats       List available formats
    -e, --encoder            The encoder to use
    -a, --arch               The architecture to use
    --platform               The platform of the payload
    --help-platforms         List available platforms
    -s, --space              The maximum size of the resulting payload
    --encoder-space          The maximum size of the encoded payload (defaults to the -s value)
    -b, --bad-chars          The list of characters to avoid example: '\x00\xff'
    -i, --iterations         The number of times to encode the payload
    -c, --add-code           Specify an additional win32 shellcode file to include
    -x, --template           Specify a custom executable file to use as a template
    -k, --keep               Preserve the template behavior and inject the payload as a new thread
    -o, --out                Save the payload
    -v, --var-name           Specify a custom variable name to use for certain output formats
    --smallest               Generate the smallest possible payload
    -h, --help"
}

if [ -z "${XARGS}" ] || [ "${XARGS}" == "-h" ] || [ "${XARGS}" == "--help" ]; then
	show_welp
	exit 2
fi

do_rickroll(){
	sleep 2.4
	play-audio $LIB
	echo "[*] You have been rickrolled!"
        echo "[*] Remember that Termux isn't for hacking, please read $WIKI"
}

case "$XARGS" in
	-h|--help) show_welp;;
	*) do_rickroll;;
esac
